{"version":3,"sources":["webpack:///./src/views/ResetPassword/ResetPassword.vue?c6bc","webpack:///src/views/ResetPassword/ResetPassword.vue","webpack:///./src/views/ResetPassword/ResetPassword.vue?fd2f","webpack:///./src/views/ResetPassword/ResetPassword.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","grid-list-lg","row","xs12","sm8","offset-sm2","md6","offset-md3","xl4","offset-xl4","outline","color","alertColor","success","icon","alertIcon","value","_v","_s","serverMsgGetter","_l","error","msg","_e","successOrFail","staticClass","username","size","width","spinner","wrap","label","type","required","error-messages","newPasswordErrors","append-icon","e1","on","input","$event","$v","newPassword","$touch","blur","keyup","_k","keyCode","key","reset","click:append","model","callback","$$v","expression","confirmPasswordErrors","e2","confirmPassword","flat","disabled","nativeOn","click","to","staticRenderFns","ResetPasswordvue_type_script_lang_js_","name","validations","validators","minLength","Object","sameAsPassword","components","Spinner","data","passErr1","passErr2","passErr3","fail","errors","methods","clearForm","$reset","_this","$invalid","$store","dispatch","token","$route","params","then","catch","response","status","computed","objectSpread","vuex_esm","serverErrorsGetter","$dirty","push","beforeRouteEnter","from","next","vm","axios_default","a","post","store","destroyed","ResetPassword_ResetPasswordvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d20ff09.e86ff90c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-lg\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"offset-sm2\":\"\",\"md6\":\"\",\"offset-md3\":\"\",\"xl4\":\"\",\"offset-xl4\":\"\"}},[_c('v-card',[_c('v-container',[(_vm.serverMsgGetter)?_c('v-alert',{attrs:{\"outline\":\"\",\"color\":_vm.alertColor(_vm.success),\"icon\":_vm.alertIcon(_vm.success),\"value\":true}},[_vm._v(\"\\n            \"+_vm._s(_vm.serverMsgGetter)+\"\\n            \"),_vm._l((_vm.serverErrorsGetter),function(error){return _c('ul',[_c('li',[_vm._v(_vm._s(error.msg))])])})],2):_vm._e()],1),(!_vm.successOrFail)?_c('v-container',{attrs:{\"grid-list-lg\":\"\"}},[_c('div',{staticClass:\"grey--text text--darken-1 title mb-1\"},[_vm._v(\"\\n            \"+_vm._s(_vm.username)+\" - Reset your password\\n          \")]),(_vm.spinner)?_c('spinner',{attrs:{\"size\":_vm.size,\"width\":_vm.width}}):_vm._e(),(!_vm.spinner)?_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"New password\",\"color\":\"blue darken-1\",\"type\":\"password\",\"required\":\"\",\"error-messages\":_vm.newPasswordErrors,\"append-icon\":_vm.e1 ? 'visibility' : 'visibility_off',\"type\":_vm.e1 ? 'password' : 'text'},on:{\"input\":function($event){_vm.$v.newPassword.$touch()},\"blur\":function($event){_vm.$v.newPassword.$touch()},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.reset($event)},\"click:append\":function () { return (_vm.e1 = !_vm.e1); }},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Confirm new password\",\"color\":\"blue darken-1\",\"type\":\"password\",\"required\":\"\",\"error-messages\":_vm.confirmPasswordErrors,\"append-icon\":_vm.e2 ? 'visibility' : 'visibility_off',\"type\":_vm.e2 ? 'password' : 'text'},on:{\"input\":function($event){_vm.$v.confirmPassword.$touch()},\"blur\":function($event){_vm.$v.confirmPassword.$touch()},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.reset($event)},\"click:append\":function () { return (_vm.e2 = !_vm.e2); }},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=$$v},expression:\"confirmPassword\"}})],1)],1):_vm._e()],1):_vm._e(),(!_vm.successOrFail)?_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"outline\":\"\",\"flat\":\"\",\"disabled\":_vm.spinner},nativeOn:{\"click\":function($event){return _vm.reset($event)}}},[_vm._v(\"\\n            Reset\\n          \")])],1):_vm._e(),(_vm.success)?_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"outline\":\"\",\"flat\":\"\",\"to\":\"/\"}},[_vm._v(\"\\n            Home\\n          \")])],1):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container grid-list-lg>\n    <v-layout row>\n      <v-flex xs12\n              sm8\n              offset-sm2\n              md6\n              offset-md3\n              xl4\n              offset-xl4>\n        <v-card>\n          <v-container>\n            <v-alert v-if=\"serverMsgGetter\"\n                     outline\n                     :color=\"alertColor(success)\"\n                     :icon=\"alertIcon(success)\"\n                     :value=\"true\">\n              {{ serverMsgGetter }}\n              <ul v-for=\"error in serverErrorsGetter\">\n                <li>{{ error.msg }}</li>\n              </ul>\n            </v-alert>\n          </v-container>\n          <v-container v-if=\"!successOrFail\"\n                       grid-list-lg>\n            <div class=\"grey--text text--darken-1 title mb-1\">\n              {{ username }} - Reset your password\n            </div>\n            <spinner v-if=\"spinner\"\n                     :size=\"size\"\n                     :width=\"width\">\n            </spinner>\n            <v-layout v-if=\"!spinner\"\n                      row\n                      wrap>\n              <v-flex xs12>\n                <v-text-field label=\"New password\"\n                              color=\"blue darken-1\"\n                              type=\"password\"\n                              required\n                              v-model=\"newPassword\"\n                              :error-messages=\"newPasswordErrors\"\n                              @input=\"$v.newPassword.$touch()\"\n                              @blur=\"$v.newPassword.$touch()\"\n                              @keyup.enter=\"reset\"\n                              :append-icon=\"e1 ? 'visibility' : 'visibility_off'\"\n                              @click:append=\"() => (e1 = !e1)\"\n                              :type=\"e1 ? 'password' : 'text'\">\n                </v-text-field>\n              </v-flex>\n              <v-flex xs12>\n                <v-text-field label=\"Confirm new password\"\n                              color=\"blue darken-1\"\n                              type=\"password\"\n                              required\n                              v-model=\"confirmPassword\"\n                              :error-messages=\"confirmPasswordErrors\"\n                              @input=\"$v.confirmPassword.$touch()\"\n                              @blur=\"$v.confirmPassword.$touch()\"\n                              @keyup.enter=\"reset\"\n                              :append-icon=\"e2 ? 'visibility' : 'visibility_off'\"\n                              @click:append=\"() => (e2 = !e2)\"\n                              :type=\"e2 ? 'password' : 'text'\">\n                </v-text-field>\n              </v-flex>\n            </v-layout>\n          </v-container>\n          <v-card-actions v-if=\"!successOrFail\">\n            <v-btn color=\"blue darken-1\"\n                   outline\n                   flat\n                   :disabled=\"spinner\"\n                   @click.native=\"reset\">\n              Reset\n            </v-btn>\n          </v-card-actions>\n          <v-card-actions v-if=\"success\">\n            <v-btn color=\"blue darken-1\"\n                   outline\n                   flat\n                   to=\"/\">\n              Home\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { required, minLength, sameAs } from \"vuelidate/lib/validators\";\nimport Spinner from \"../../components/Spinners/Spinner\";\nimport { mapGetters } from \"vuex\";\nimport { store } from \"../../store/store\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"ResetPassword\",\n  validations: {\n    newPassword: { required, minLength: minLength(8) },\n    confirmPassword: {\n      sameAsPassword: sameAs(\"newPassword\"),\n      required,\n      minLength: minLength(8)\n    }\n  },\n  components: {\n    spinner: Spinner\n  },\n  data() {\n    return {\n      size: 60,\n      width: 2,\n      e1: true,\n      e2: true,\n      newPassword: \"\",\n      confirmPassword: \"\",\n      passErr1: \"This field is required\",\n      passErr2: \"Password must be at least 8 characters\",\n      passErr3: \"Passwords must be identical\",\n      spinner: false,\n      success: false,\n      fail: false,\n      errors: [],\n      username: \"\"\n    };\n  },\n  methods: {\n    clearForm() {\n      this.$v.$reset();\n      this.newPassword = \"\";\n      this.confirmPassword = \"\";\n    },\n    reset() {\n      this.$v.$touch();\n\n      if (this.$v.$invalid) {\n        return;\n      }\n\n      this.spinner = true;\n\n      this.$store\n        .dispatch(\"setNewPassword\", {\n          token: this.$route.params.token,\n          username: this.username,\n          newPassword: this.newPassword,\n          confirmPassword: this.confirmPassword\n        })\n        .then(() => {\n          this.clearForm();\n          this.spinner = false;\n          this.success = true;\n        })\n        .catch(error => {\n          if (error.response.status === 401) {\n            this.fail = true;\n          }\n\n          this.clearForm();\n          this.spinner = false;\n        });\n    },\n    alertColor(success) {\n      return success ? \"blue darken-1\" : \"error\";\n    },\n    alertIcon(success) {\n      return success ? \"check_circle\" : \"warning\";\n    }\n  },\n  computed: {\n    ...mapGetters({\n      serverMsgGetter: \"serverMsgGetter\",\n      serverErrorsGetter: \"serverErrorsGetter\"\n    }),\n    successOrFail() {\n      return this.success || this.fail;\n    },\n    newPasswordErrors() {\n      const errors = [];\n      if (!this.$v.newPassword.$dirty) return errors;\n      !this.$v.newPassword.required && errors.push(this.passErr1);\n      !this.$v.newPassword.minLength && errors.push(this.passErr2);\n\n      return errors;\n    },\n    confirmPasswordErrors() {\n      const errors = [];\n      if (!this.$v.confirmPassword.$dirty) return errors;\n      !this.$v.confirmPassword.required && errors.push(this.passErr1);\n      !this.$v.confirmPassword.minLength && errors.push(this.passErr2);\n      !this.$v.confirmPassword.sameAsPassword && errors.push(this.passErr3);\n\n      return errors;\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      axios\n        .post(\"/validateToken\", {\n          token: vm.$route.params.token\n        })\n        .then(response => {\n          vm.username = response.data.username;\n        })\n        .catch(error => {\n          vm.fail = true;\n          store.dispatch(\"getServerMsgError\", error);\n        });\n    });\n  },\n  destroyed() {\n    this.$store.dispatch(\"resetServerMsg\");\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResetPassword.vue?vue&type=template&id=1d42ac7e&\"\nimport script from \"./ResetPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ResetPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ResetPassword.vue\"\nexport default component.exports"],"sourceRoot":""}