(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20ff09"],{b687:function(s,e,r){"use strict";r.r(e);var t=function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":"",md6:"","offset-md3":"",xl4:"","offset-xl4":""}},[r("v-card",[r("v-container",[s.serverMsgGetter?r("v-alert",{attrs:{outline:"",color:s.alertColor(s.success),icon:s.alertIcon(s.success),value:!0}},[s._v("\n            "+s._s(s.serverMsgGetter)+"\n            "),s._l(s.serverErrorsGetter,function(e){return r("ul",[r("li",[s._v(s._s(e.msg))])])})],2):s._e()],1),s.successOrFail?s._e():r("v-container",{attrs:{"grid-list-lg":""}},[r("div",{staticClass:"grey--text text--darken-1 title mb-1"},[s._v("\n            "+s._s(s.username)+" - Reset your password\n          ")]),s.spinner?r("spinner",{attrs:{size:s.size,width:s.width}}):s._e(),s.spinner?s._e():r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"New password",color:"blue darken-1",type:"password",required:"","error-messages":s.newPasswordErrors,"append-icon":s.e1?"visibility":"visibility_off",type:s.e1?"password":"text"},on:{input:function(e){s.$v.newPassword.$touch()},blur:function(e){s.$v.newPassword.$touch()},keyup:function(e){return"button"in e||!s._k(e.keyCode,"enter",13,e.key,"Enter")?s.reset(e):null},"click:append":function(){return s.e1=!s.e1}},model:{value:s.newPassword,callback:function(e){s.newPassword=e},expression:"newPassword"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Confirm new password",color:"blue darken-1",type:"password",required:"","error-messages":s.confirmPasswordErrors,"append-icon":s.e2?"visibility":"visibility_off",type:s.e2?"password":"text"},on:{input:function(e){s.$v.confirmPassword.$touch()},blur:function(e){s.$v.confirmPassword.$touch()},keyup:function(e){return"button"in e||!s._k(e.keyCode,"enter",13,e.key,"Enter")?s.reset(e):null},"click:append":function(){return s.e2=!s.e2}},model:{value:s.confirmPassword,callback:function(e){s.confirmPassword=e},expression:"confirmPassword"}})],1)],1)],1),s.successOrFail?s._e():r("v-card-actions",[r("v-btn",{attrs:{color:"blue darken-1",outline:"",flat:"",disabled:s.spinner},nativeOn:{click:function(e){return s.reset(e)}}},[s._v("\n            Reset\n          ")])],1),s.success?r("v-card-actions",[r("v-btn",{attrs:{color:"blue darken-1",outline:"",flat:"",to:"/"}},[s._v("\n            Home\n          ")])],1):s._e()],1)],1)],1)],1)},n=[],o=r("c93e"),i=(r("cadf"),r("551c"),r("097d"),r("b5ae")),a=r("182f"),c=r("2f62"),u=r("07a4"),d=r("bc3a"),l=r.n(d),w={name:"ResetPassword",validations:{newPassword:{required:i["required"],minLength:Object(i["minLength"])(8)},confirmPassword:{sameAsPassword:Object(i["sameAs"])("newPassword"),required:i["required"],minLength:Object(i["minLength"])(8)}},components:{spinner:a["a"]},data:function(){return{size:60,width:2,e1:!0,e2:!0,newPassword:"",confirmPassword:"",passErr1:"This field is required",passErr2:"Password must be at least 8 characters",passErr3:"Passwords must be identical",spinner:!1,success:!1,fail:!1,errors:[],username:""}},methods:{clearForm:function(){this.$v.$reset(),this.newPassword="",this.confirmPassword=""},reset:function(){var s=this;this.$v.$touch(),this.$v.$invalid||(this.spinner=!0,this.$store.dispatch("setNewPassword",{token:this.$route.params.token,username:this.username,newPassword:this.newPassword,confirmPassword:this.confirmPassword}).then(function(){s.clearForm(),s.spinner=!1,s.success=!0}).catch(function(e){401===e.response.status&&(s.fail=!0),s.clearForm(),s.spinner=!1}))},alertColor:function(s){return s?"blue darken-1":"error"},alertIcon:function(s){return s?"check_circle":"warning"}},computed:Object(o["a"])({},Object(c["b"])({serverMsgGetter:"serverMsgGetter",serverErrorsGetter:"serverErrorsGetter"}),{successOrFail:function(){return this.success||this.fail},newPasswordErrors:function(){var s=[];return this.$v.newPassword.$dirty?(!this.$v.newPassword.required&&s.push(this.passErr1),!this.$v.newPassword.minLength&&s.push(this.passErr2),s):s},confirmPasswordErrors:function(){var s=[];return this.$v.confirmPassword.$dirty?(!this.$v.confirmPassword.required&&s.push(this.passErr1),!this.$v.confirmPassword.minLength&&s.push(this.passErr2),!this.$v.confirmPassword.sameAsPassword&&s.push(this.passErr3),s):s}}),beforeRouteEnter:function(s,e,r){r(function(s){l.a.post("/validateToken",{token:s.$route.params.token}).then(function(e){s.username=e.data.username}).catch(function(e){s.fail=!0,u["a"].dispatch("getServerMsgError",e)})})},destroyed:function(){this.$store.dispatch("resetServerMsg")}},f=w,p=r("2877"),v=Object(p["a"])(f,t,n,!1,null,null,null);v.options.__file="ResetPassword.vue";e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d20ff09.e86ff90c.js.map